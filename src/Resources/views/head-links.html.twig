{% set alternateLinks = build_alternate_links() %}

{% block alternateLinks %}
    {% for lang, href in alternateLinks %}
        <link rel="alternate" hreflang="{{ lang }}" href="{{ href }}" />
    {% endfor %}
{% endblock %}

{% block xDefaultAlternateLink %}
    {% if xDefaultLocale in alternateLinks|keys %}
        <link rel="alternate" hreflang="x-default" href="{{ alternateLinks[xDefaultLocale] }}" />
    {% endif %}
{% endblock %}

{% block canonical %}
    {% if app.request.locale in alternateLinks|keys %}
        <link rel="canonical" href="{{ alternateLinks[app.request.locale] }}" />
    {% endif %}
{% endblock %}
